<!DOCTYPE html>
<html lang="hr" xmlns="http://www.w3.org/1999/xhtml"
		xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8"/>

	<title>Voyage</title>
</head>
<body>
	<div class="container" th:fragment="fragment" th:remove="tag">
		<div class="panel" th:class="'panel ' + (${delay != null}? (${delay lt 1}? 'panel-success' : (${delay lt 20}? 'panel-warning' : 'panel-danger')) : 'panel-info')">
			<div class="panel-heading">
				<h4 class="panel-title">
					<span class="glyphicon glyphicon-info-sign"></span>
					<span th:text="#{voyage.current.title}" th:remove="tag">Current train position</span>
					<a href="#" class="pull-right" id="save" th:attr="data-train-no=${train}">
						<span class="glyphicon"></span>
					</a>
				</h4>
			</div>
			<div class="table-responsive">
				<table class="table table-hover">
					<tr>
						<th class="col-md-3" th:text="#{voyage.table.station}">Station</th>
						<th class="col-md-2 text-center" colspan="2" th:text="#{voyage.table.arrival}">Arrival</th>
						<th class="col-md-2 text-center" colspan="2" th:text="#{voyage.table.departure}">Departure</th>
					</tr>
					<tr th:object="${voyage.currentStation}">
						<td class="col-md-3" th:text="*{name}">Name</td>
						<td class="col-md-1 text-center" th:text="*{arrivalTime}">00:00</td>
						<td class="col-md-1 text-center" th:text="*{arrivalDelay > 0}? *{arrivalDelay} : ''"></td>
						<td class="col-md-1 text-center" th:text="*{departureTime}">00:00</td>
						<td class="col-md-1 text-center" th:text="*{departureDelay > 0}? *{departureDelay} : ''"></td>
					</tr>
				</table>
			</div>
		</div>

		<div class="panel panel-default">
			<div class="panel-heading" role="tab" id="stations-heading">
				<h4 class="panel-title">
					<span class="glyphicon glyphicon-collapse-down" aria-hidden="true"></span>
					<a role="button" data-toggle="collapse" data-parent="#accordion" href="#stations" aria-expanded="false" aria-controls="stations">
						<span th:text="#{voyage.history.title}" th:remove="tag">Full voyage history</span>
					</a>
				</h4>
			</div>
			<div id="stations" class="panel-collapse collapse" role="tabpanel" aria-labelledby="stations-heading">
				<div class="table-responsive">
					<table class="table table-hover">
						<tr>
							<th class="col-md-3" th:text="#{voyage.table.station}">Station</th>
							<th class="col-md-2 text-center" colspan="2" th:text="#{voyage.table.arrival}">Arrival</th>
							<th class="col-md-2 text-center" colspan="2" th:text="#{voyage.table.departure}">Departure</th>
						</tr>
						<tr th:each="station : ${voyage.stations}">
							<td class="col-md-3" th:text="${station.name}">Name</td>
							<td class="col-md-1 text-center" th:text="${station.arrivalTime}">00:00</td>
							<td class="col-md-1 text-center" th:text="${station.arrivalDelay > 0}? ${station.arrivalDelay} :''"></td>
							<td class="col-md-1 text-center" th:text="${station.departureTime}">00:00</td>
							<td class="col-md-1 text-center" th:text="${station.departureDelay > 0}? ${station.departureDelay} : ''"></td>
						</tr>
					</table>
				</div>
			</div>
		</div>

		<p class="text-center text-muted"><small id="generated-time"></small></p>
	</div>
</body>
</html>
